!function(e){var t={};function n(r){if(t[r])return t[r].exports;var l=t[r]={i:r,l:!1,exports:{}};return e[r].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(r,l,function(t){return e[t]}.bind(null,l));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r,l=n(1),o=(r=l)&&r.__esModule?r:{default:r};o.default.setDebug(1);var i=o.default.mount(document.body,c);function u(e,t){b("POST","/api/wallet-log-in",{username:t.$username,password:t.$password},function(e){if(e.err){var t=document.getElementById("inlogSchermError");t.hidden=!1,t.firstChild.innerHTML=e.err}else e.token,a(null,{$pageNumber:1})})}function f(e,t){b("POST","/api/wallet-register",{username:t.$username,password:t.$password},function(e){if(e.err){var t=document.getElementById("inlogSchermError");t.hidden=!1,t.firstChild.innerHTML=e.err}else a(null,{$pageNumber:2})})}function a(e,t,n){var r=void 0;r=t.$pageNumber?t.$pageNumber:n.value,i.unmount(),0==r?i=o.default.mount(document.body,c):1==r?i=o.default.mount(document.body,d):2==r?i=o.default.mount(document.body,s):3==r?i=o.default.mount(document.body,g):4==r?i=o.default.mount(document.body,incomingreq):5==r&&(i=o.default.mount(document.body,p))}function s(){return(0,o.default)("main",null,h(),(0,o.default)("p",null,"Enter Verinym: "),(0,o.default)("form",null,(0,o.default)("input",{type:"text"}),(0,o.default)("button",{type:"submit"},"Send Request")))}function d(){return(0,o.default)("main",null,h(),(0,o.default)("div",{id:"credentials-list"},(0,o.default)("h3",null,"My Credentials: "),y(),y()))}function c(){return(0,o.default)("div",{class:"log-in-prompt"},(0,o.default)("h1",null,"Cloud Agent Log-in"),(0,o.default)("div",{id:"inlogSchermError",hidden:!0},(0,o.default)("span",null,"Vervang dit met een error"),(0,o.default)("br",null)),(0,o.default)("input",{placeholder:"Username",type:"text",binding:"$username"}),(0,o.default)("br",null),(0,o.default)("input",{placeholder:"Password",type:"password",binding:"$password"}),(0,o.default)("br",null),(0,o.default)("p",{value:"5",onclick:a},"Register"),(0,o.default)("input",{type:"submit",value:"Log in",onclick:u}))}function p(){return(0,o.default)("div",{class:"log-in-prompt"},(0,o.default)("h1",null,"Cloud Agent Register"),(0,o.default)("div",{id:"inlogSchermError",hidden:!0},(0,o.default)("span",null,"Vervang dit met een error"),(0,o.default)("br",null)),(0,o.default)("input",{placeholder:"Username",type:"text",binding:"$username"}),(0,o.default)("br",null),(0,o.default)("input",{placeholder:"Password",type:"password",binding:"$password"}),(0,o.default)("br",null),(0,o.default)("input",{type:"submit",value:"Submit!",onclick:f}))}function g(){return(0,o.default)("main",null,h(),(0,o.default)("div",{id:"offers-list"},(0,o.default)("h3",null,"Incoming offers: "),m(),m()))}function h(){return(0,o.default)("div",{class:"navbar"},(0,o.default)("ul",null,(0,o.default)("li",{id:"logo-ting"},"Saxion"),(0,o.default)("li",{value:"1",onclick:a},"My Credentials"),(0,o.default)("li",{value:"2",onclick:a},"Make a Request"),(0,o.default)("li",{value:"3",onclick:a},"Offers"),(0,o.default)("li",{value:"4",onclick:a},"Log out")))}function m(){return(0,o.default)("div",{class:"incoming-offer"},(0,o.default)("p",null,"Offer"),(0,o.default)("p",null,"From: "),(0,o.default)("p",null,"Schema: "),(0,o.default)("p",null,"Extra info:"),(0,o.default)("div",{id:"buttons"},(0,o.default)("button",{id:"accept-offer"},"Accept"),(0,o.default)("button",{id:"decline-offer"},"Decline")))}function y(){return(0,o.default)("div",{class:"credential"},(0,o.default)("h4",null,"Credential"),(0,o.default)("p",null,"Issued By: "),(0,o.default)("p",null,"Grade: "),(0,o.default)("p",null,"Extra info:"))}function b(e,t,n,r){var l=new XMLHttpRequest;l.onreadystatechange=function(){l.readyState===XMLHttpRequest.DONE&&(l.status<500?r(JSON.parse(l.responseText)):l.status>=500&&console.log(n))},l.open(e,t,!0),null!=n&&l.setRequestHeader("Content-Type","application/json"),l.send(JSON.stringify(n))}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return f});const r=[],l={_c:r};for(let e of[r,l])Object.freeze(e);let o=[],i=window.fetch?window.fetch.bind(window):null,u=1;function f(e,t){if(u&&"string"!=typeof e&&"function"!=typeof e)throw new Error("first parameter should be a tag string or a component function");if(null==t)t={};else if(u&&Object.getPrototypeOf(t)!==Object.prototype)throw new Error("second parameter should be a plain javascript object or null");if("string"==typeof e){let n=e.indexOf(".");n>=0&&(t.className=e.substr(n+1).replace(/\./g," "),e=e.substr(0,n)||"div")}t._t=e;var n=t._c=[];for(let e=2;e<arguments.length;e++)a(n,arguments[e]);return t}function a(e,t){if(null==t)return;let n=typeof t;if("object"===n){if(t instanceof Array){for(let n=0;n<t.length;n++)a(e,t[n]);return}let n=typeof t._t;if("string"===n||"function"===n)return e.push(t)}else{if("number"===n)return e.push(""+t);if("string"===n)return e.push(t)}throw new Error("invalid child VDOM node: "+JSON.stringify(t))}function s(e,t){if("string"==typeof e)return[t,e];for(let n=0;n<e.length-1;n++){let r=e[n];t="object"==typeof r?r:t[r]=t[r]||{}}return[t,e[e.length-1]]}function d(e){let t=this.refreshNow;function n(e){return t(),e&&"function"==typeof e.then&&e.then(n),e}return function(){return n(e.apply(this,arguments))}}function c(e){return function(){for(let t of o)t[e].apply(t,arguments)}}f.mount=function(e,t,n={}){let c,p,g={_t:t,_a:{_t:"div",_c:[]}},h=document.createElement("div");e.appendChild(h);let m={},y={},b=[],v=0,_={refresh:function(){u&&v<0&&console.warn("refresh triggered during refresh"),v<1&&(v=setTimeout(N,0))},refreshNow:N,unmount:function(){let t=o.indexOf(this);if(t<0)throw new Error("not mountesd");o.splice(t,1),x(g,{},h),e.removeChild(h)},refreshify:d,getTree:function(){return g}};return i&&(_.fetch=_.refreshify(i)),o.push(_),N(),_;function w(e){let t=e._t(e,e._c);delete e._c;let n=[];return a(n,t),1===n.length?n[0]:{_t:"div",_c:n}}function k(e,t,n){if("string"==typeof e)return p++,u>=3&&f.log("glasgow update create TextNode",e),document.createTextNode(e);let r=e._t;if("function"==typeof r)return e._a=w(e),k(e._a,e,n);"svg"===r&&(e._svg=!0);let o=e._svg?document.createElementNS("http://www.w3.org/2000/svg",r):document.createElement(r);p++,u>=3&&f.log("glasgow update create",r);let i=e.oncreate||e.create;return"function"==typeof i&&M(i,o,[{type:"create",parentStable:n},t,e]),S(e,l,[o],t),o}function O(e,t){let n=typeof e;return n===typeof t&&("string"===n||e.key===t.key&&e._t===t._t)}function S(e,t,n,l){if(u&&(e._e&&console.error("double patch",e,E(n)),t._e&&t._e!==E(n)&&console.error("dom element not properly matched with old node",t,E(n))),"string"==typeof e)return e!==t&&(E(n).textContent=e,p++,u>=3&&f.log("glasgow update set TextNode",e)),e;let o,i=n.length;if("function"==typeof e._t){t._t&&function(e,t){for(let n in e)if("_"!==n[0]&&"$"!==n[0]&&e[n]!==t[n])return!1;for(let n in t)if("_"!==n[0]&&"$"!==n[0]&&!e.hasOwnProperty(n))return!1;return!0}(e,t)&&(t._c=e._c,e=t);let r=w(e);if(O(r,t._a))e._a=S(r,t._a,n,e);else{x(t._a,t),e._a=r;let l=E(n,i-1),o=k(r,e,!0),a=E(n);l.replaceChild(o,a),p++,u>=3&&f.log("glasgow update replace child",E(n)),a===h&&(u&&f.log("replacing root element"),h=n[0]=o,m=y)}return e}u&&(e._e=E(n));let a=e._c,d=t._c;const g=e._svg;if(g)for(let e of a)e._svg=!0;let b,v,N=Math.min(a.length,d.length);for(b=0;b<N&&O(a[b],d[b]);b++)n[i]=b,a[b]=S(a[b],d[b],n,l);N-=b;let j=a.length-1,P=d.length-1;for(v=0;v<N&&O(a[j-v],d[P-v]);v++)n[i]=P-v,a[j-v]=S(a[j-v],d[P-v],n,l);if(v+b!==a.length||a.length!==d.length){o=o||E(n,i);let e={},t=[],s=null;if(d.length>b){n[i]=b,s=E(n);for(let n=b;n<d.length-v;n++){let r=d[n];if("object"==typeof r&&r.key&&(e[r.key]=n),u&&!s)throw new Error("element missing");t.push(s),s=s.nextSibling,c++}}let g={};for(let e=b;e<a.length-v;e++){let t=a[e];"object"==typeof t&&t.key&&(g[t.key]=e)}let h=0;e:for(let n=b;n<a.length-v;n++){let i=void 0,c=a[n];if("object"==typeof c){let r,o=c.key;if(o&&(r=e[o])&&O(c,d[r]))i=t[r-b],t[r-b]=void 0,a[n]=S(c,d[r],[i],l);else if(!o||"~"===o[0]){let e=Math.min(n+5,d.length);for(let r=Math.max(n-5,0);r<e;r++){let e=d[r];if("object"==typeof e&&e._t===c._t&&t[r-b]){let o=e.key;if(!o||"~"===o[0]&&null==g[o]){if(i=t[r-b],t[r-b]=void 0,a[n]=S(c,e,[i],l),r===b+h){h++;continue e}break}}}}}i||(i=k(c,l,d!==r)),o.insertBefore(i,s),p++,u>=3&&f.log("glasgow update insert node",i)}let m=b;for(let e=0;e<t.length;e++){let n=t[e];if(n){let t=d[b+e];if("string"!=typeof t){if("kept"===t._t){a.splice(m++,0,t);continue}let e=x(t,l,n);if(e&&"function"==typeof e.then){let t={_t:"kept",_c:[]};a.splice(m++,0,t),function(t){e.then(function(){t._t="discard",_.refreshNow()})}(t);continue}}o.removeChild(n),p++,u>=3&&f.log("glasgow update remove element",n)}}}n.length=i,e.binding&&function(e,t){let n=function(e,t){let[n,r]=s(e,t);return n[r]}(e.binding,t);"checkbox"===e.type?e.checked=!!n:e.value=null==n?"":""+n,e.oninput=T}(e,l);for(let r in e){if("key"===r||"binding"===r||"_"===r[0])continue;let l=e[r];if("function"==typeof l){"on"===r.substr(0,2)&&(r=r.substr(2)),y[r]||(u&&f.log("glasgow delegating event type",r),m[r]=y[r]=!0);continue}let i=t[r];if(l!==i){if(null==l){if(null==i)continue;l=""}o=o||E(n),"checked"===r||"value"===r||"className"===r||"selectedIndex"===r||"disabled"===r?o[r]=l:"style"===r&&"object"==typeof l?(i&&(o.style=""),Object.assign(o.style,l)):g?o.setAttributeNS(null,r,l):o.setAttribute(r,l),p++,u>=3&&f.log("glasgow update set attribute",r,l)}}for(let r in t)"_"!==r[0]&&"function"!=typeof t[r]&&(e.hasOwnProperty(r)||(o=o||E(n),"style"===r||"checked"===r||"value"===r||"className"===r?o[r]="":o.removeAttribute(r),p++,u>=3&&f.log("glasgow update unset attribute",r)));let D=e.onrefresh||e.refresh;return"function"==typeof D&&M(D,E(n),[{type:"refresh"},l,e]),e}function N(){u&&v<0&&console.error("recursive invocation?"),v=-1;let e=g;g=f(t,n),c=p=0;let r=new Date;u&&!O(g,e)&&console.error("root cannot be patched",g,e),g=S(g,e,[h]);for(let e in m)h.addEventListener(e,j),p++,u>=3&&f.log("glasgow update add event listener",e);m={},f.log("glasgow refreshed in",new Date-r,"ms, using",p,"DOM updates and",c,"DOM reads"+(u?" [use glasgow.setDebug(0) if you're interested in speed]":""));for(let e=0;e<b.length;e+=3)b[e].apply(b[e+1],b[e+2]);b.length=0,-1===v&&(v=0)}function x(e,t,n){if("string"==typeof e)return;if(e._a)return x(e._a,e,n);let r=e._c;for(let e=0;e<r.length;e++)x(r[e],t);let l=e.onremove||e.remove;return"function"==typeof l?l.call(n,{type:"remove",parentStable:!!n},t,e):void 0}function E(t,n){let r=(null==n?t.length:n)-1;for(let e=r;e>=0;e--)if("number"!=typeof t[e]){let n=t[e];for(let l=e+1;l<=r;l++){if(n=n.childNodes[t[l]],u&&!n)throw new Error("invalid DOM path "+t);t[l]=n,c++}return n}return e}function j(e){let t=[];for(let n=e.target;n!==h;n=n.parentNode){let e=0;for(let t=n.previousSibling;t;t=t.previousSibling)e++;t.push(e)}let n,r=g,l=[],o=t.length;for(;;){for(;r._a;)n=r,r=r._a;if("kept"===r._t)break;if(l.push(r,n),--o<0){u&&l[l.length-2]._e!==e.target&&console.error("event tree resolve failed",e.target,l[l.length-2]._e,t);break}if(!0===r._leaf)return;r=r._c[t[o]]}let i=e.type,a="on"+e.type;f.log("glasgow event",i);let s=e.target,d=!1;for(let t=l.length-2;t>=0;t-=2){let n=l[t],r=n[a]||n[i];if("function"==typeof r){d=!0;let o=l[t+1];if(r.call(s,e,o,n)!==f.NOT_HANDLED){e.preventDefault(),e.stopPropagation();break}}s=s.parentNode}d&&N()}function T(e,t,n){let r="checkbox"===n.type?n.checked=this.checked:"number"===n.type?parseFloat(n.value=this.value):n.value=this.value;!function(e,t,n){let[r,l]=s(e,t);r[l]=n}(n.binding,t,r)}function M(e,t,n){b.push(e,t,n)}},f.NOT_HANDLED={},f.transition=function({element:e,from:t,to:n,time:r,easing:l,keep:o}){r=r||400,l=l||"ease-out";let i={};for(let n in t)i[n]=e.style[n],e.style[n]=t[n];return new Promise(function(t){setTimeout(function(){i.transition=e.style.transition,e.style.transition=`all ${l} ${r}ms`;for(let t in n)i.hasOwnProperty(t)||(i[t]=e.style[t]),e.style[t]="original"===n[t]?i[t]:n[t];setTimeout(function(){setTimeout(function(){for(let t in i)o&&"transition"!==t||(e.style[t]=i[t]);t()},r)},1)},0)})},f.fadeIn=function(e){if(e.parentStable)return f.transition({element:this,from:{marginTop:this.offsetHeight/-2+"px",marginBottom:this.offsetHeight/-2+"px",opacity:0,transform:"scaleY(0)"},to:{marginTop:getComputedStyle(this).getPropertyValue("margin-top"),marginBottom:getComputedStyle(this).getPropertyValue("margin-bottom"),opacity:1,transform:"scaleY(1)"},easing:"ease-out"})},f.fadeOut=function(e){if(e.parentStable)return f.transition({element:this,to:{marginTop:this.offsetHeight/-2+"px",marginBottom:this.offsetHeight/-2+"px",opacity:0,transform:"scaleY(0)"},keep:!0,easing:"ease-out"})},f.setDebug=function(e){u=0|e},f.refresh=c("refresh"),f.refreshNow=c("refreshNow"),f.refreshify=d,f.log=function(){console.log.apply(console,arguments)},i&&(f.fetch=f.refreshify(i))}]);